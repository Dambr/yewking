## Формализация процесса разрешения зависимостей файлов исходного кода

### Введение

<!-- Актуальность темы: важность анализа и оптимизации структуры исходного кода -->

Важным этапом при анализе структуры программного обеспечения (ПО) является разрешение фукциональных зависимостей между файлами исходного кода. Результаты такого анализа востребованы, например, при построении математических моделей и проектировании программных систем. Так, современное ПО допускает наличие нескольких точек входа (функций main), задействованная точка входа зависит от конфигурации сборки ПО. При этом в зависимости от точки входа задействуются разные объемы кодовой базы.

Текущие методы построения математических моделей предполагают использование готовых результатов анализа. Например, их можно получить при помощи инструментов статического анализа, таких как SonarQube или Clang Static Analyzer. При этом исходными данными становятся не файлы исходного кода и данные о их функциональных зависимостях, а результаты работы стороннего программного средства, что может приводить к ошибкам и трудным для отладки неточностям.

Целью настоящей работы является сформированный механизм разрешения функциональных зависимостей файлов исходного кода, что позволит автоматизировать процесс формирования математиеских моделей и невилировать обозначенные недостатки.

### Теоретическая основа и математическая модель

Для формирования такого механизма необходимо, чтобы все файлы исходного кода были проиндексированиы, а так же ввести следующие обозначения:

1. $m$ - количество файлов исходного кода;
2. $F_{1 \times m}$ - фектор бинарных отношений, определяющий файл с задействованной точкой входа;
3. $D_{m \times m}$ - матрица бинарных отношений, описывающая наличие функциональные зависимости между файлами исходного кода.

Элемент вектора $f_{i}$ принимает значение $1$ если в $i$-ом файле описана задействованная точка входа и $0$ если не описана. Элемент матрицы $d_{i, j}$ принимает значение $1$ если $i$-й файл зависит от $j$-го и $0$ если не зависит.

Разрешение зависимостей файла исходного кода с задействованной точкой входа:

$$F' \gets F \cdot D$$

Разрешение их зависимостей:

$$F'' \gets F' \cdot D = F \cdot D \cdot D = F \cdot D^{2}$$

Тогда:

$$F^{(s)} \gets F \cdot D^{s}$$

Заметим, что глубина разрешения зависимостей не может превышать $m$. Тогда файлы исходного кода, необходимые для разрешения зависимостей исходного $F$ обозначим за $\hat{F}$, значения элементов которого вычисляются как:

$$\hat{F} \gets F + \sum_{i = 1}^{m} F^{(i)} = F + \sum_{i = 1}^{m}(F \cdot D^{i}) = F \cdot D^{0} + \sum_{i = 1}^{m}(F \cdot D^{i}) = \sum_{i = 0}^{m}(F \cdot D^{i}) = F \cdot \sum_{i = 0}^{m}D^{i}$$

### Пример

Рассмотри пример, описывающий $3$ файл исходного кода. Точка входа описана в файле $№ 1$. Файл $№ 1$ имеет зависимость на файл $№ 2$. Файл $№ 2$ имеет зависимость на файл $№ 3$. Файл $№ 3$ не имеет зависиомтсей. Тогда математически условие можно описать следующим образом:

$$m = 3$$

$$
F = \begin{pmatrix}
    1 & 0 & 0
\end{pmatrix}
$$

$$
D = \begin{pmatrix}
    0 & 1 & 0 \\
    0 & 0 & 1 \\
    0 & 0 & 0
\end{pmatrix}
$$

Разрешение зависимостей $F$:

$$
F' \gets F \cdot D = 
\begin{pmatrix}
    0 & 1 & 0
\end{pmatrix}
$$

Разрешение зависимостей $F'$:

$$
F'' \gets F' \cdot D =
\begin{pmatrix}
    0 & 0 & 1
\end{pmatrix}
$$

Разрешение зависимостей $F''$:

$$
F''' \gets F'' \cdot D =
\begin{pmatrix}
    0 & 0 & 0
\end{pmatrix}
$$

Состав файлов с учетом разрешения зависимостей $F$:

$$
\hat{F} = F + F' + F'' + F''' =
\begin{pmatrix}
    1 & 1 & 1
\end{pmatrix}
$$

Вывод: для разрешения зависимостей необходимы все файлы исходного кода.

### Заключение

В настоящей работе описан механизм разрешения функциональных зависимостей между файлами исходного кода и приведено описание результата в виде математического объекта, что позволяет его использовать при математическом моделировании проектируемой программной системы.

В дальнейших исследованиях предполагатся описание механизма формирования исходного перечня файлов исходя не из логики, что какой-то из них содержит главную функцию программы, а исходя из реализуемых этими файлами заданного объема функциональных требований. Это позволит нивелировать ограничение, что только один элемент вектора $F$ может принимать значение $1$ и расширит спроектированный механизм задействованием таких понятий как функциональные требования и трассировка требований на файлы исходного кода.

<!-- Итоги работы: достигнутые результаты и основные выводы -->

<!-- Значимость предложенной формализации для практики разработки программного обеспечения -->

### Список литературы

<!-- Перечень использованных источников по теории функциональных зависимостей, моделированию структур кода и другим релевантным темам -->
