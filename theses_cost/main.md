## Рассчет стоимости комплектации ПО с ограниченным объемом функционала 

В настоящее время существует возможность поставки одной версии программного обеспечения (ПО) в различных комплектациях. Комплектации отличаются друг от друга объемом реализованных функциональных требований.

Поставка ПО в различных комплектациях увеличивает его конкурентоспособность за счет возможности предоставления заказчику ограниченного объема функционала. Это дешевле, чем поставка функционала в полном объеме.

Для использования достоинств такого подхода требуется управление количеством и составом комплектаций. Управление невозможно осуществлять без знания о результирующей стоимости каждой из заявленных комплектаций. В следствие этого возникает необходимость в механизме ее рассчета.

Результирующая стоимость комплектации - это сумма стоимостей реализованных в рамках комплектации функциональных требований. В случае поставки ПО в единственной комплектации полного объема, стоимость каждого из требований может быть рассмотрена как постоянная величина. Однако анализ показал, что стоимость каждого из них может быть изменена в зависимости от реализации в комплектации смежных требований. Т.е. стоимости реализации одного и того же требования в разных комплектациях могут отличаться.

Тогда стоимость требования необходимо рассматривать как сумму его себестоимости и изменений от реализации смежных требований.

Для описания вышесказанного при помощи математеческого выражения положим, что каждое требование проиндексировано и введем следующие обозначения:

1. $\dot{v}$ - себестоимость требования; 
2. $l$ - количество смежных требований;
3. $Q_{1 \times l} = ||q_{i}||$ - вектор признаков реализованности смежных требований. Если требование реализовано $q_{i} = 1$, иначе $q_{i} = 0$;
4. $V'_{1 \times l} = ||v'_{i}||$ - вектор изменений стоимости требования от реализованности смежных.

Тогда полная стоимость требования:
$$V = \dot{v} + \sum^{l}_{i = 1} (v'_{i} \cdot q_{i})$$

Для рассчета стоимости каждого из требований данную формулу использовать неудобно, т.к. для каждого из них необходимо определить несколько векторов.

С целью нивелирования данного недостатка предлагается использовать обозначения:

1. $n$ - общее число функциональных требований;
2. $R_{1 \times n} = ||r_{i}||$ - вектор бинарных отношений, содержащий признаки реализованности требований. Если требование реализовано $r_{i} = 1$, иначе $r_{i} = 0$;
3. $C_{n \times n} = ||c_{i, j}||$ - матрица изменений стоимости требований. На главной диагонале располагаются значения себестоимости требований. Если $j$-й элемент в $i$-й строке не расположен на главной диагонале, то его значение - изменение стоимости $i$-го требования от реализованности $j$-го.

В этом случае полная стоимость $i$-го требования:
$$V_{i} = \sum^{n}_{j = 1} (c_{i, j} \cdot r_{j})$$

Для получения стоимости комплектации недостаточно сложить полные стоимости требований, т.к. при этом не учитывается, какие из них реализованы в комплектации. Чтобы это учитывать необходимо слагаемые дополнительно умножить на признак реализованности.

Тогда стоимость комплектации:
$$X = \sum^{n}_{i = 1} (r_{i} \cdot V_{i})$$

Заметим, что данное выражение можно записать при помощи операций над матрицами:
$$X = R \cdot C \cdot R^{T}$$

Механизм разработан. Он примечателен тем, что обеспечивает применимость для расчета стоимости комплектации в полном объеме. Как обозначалось ранее, стоимость каждого из требований может быть рассмотрена как постоянная величина. Эти величины следует расположить на главной диагонали матрицы $C$, прочие значения принять равными $0$, а все значения вектора $R$ принять равными $1$. В этом случае результат вычислений по приведенной формуле не будет отличаться от суммирования значений матрицы $C$.